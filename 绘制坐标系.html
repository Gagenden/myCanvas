<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>绘制坐标系</title>
  <style>
    canvas {
      border: 1px black solid;
    }
  </style>
</head>
<body>
  <canvas width="600" height="400"></canvas>
  <script>
    var myCanvas = document.querySelector('canvas');
    var ctx = myCanvas.getContext('2d');

    // 设置网格大小
    var girdSize = 10;

    // canvas 的高度、宽度 (或者是 myCanvas.height)
    var canvasHeight = ctx.canvas.height;
    var canvasWidth = myCanvas.width;
    
    // 绘制的网格横线的数量 注意：需要向下取整（防止除不尽）
    var xTotal = Math.floor(canvasHeight / girdSize);

    // 绘制的网格竖线的数量 注意：需要向下取整（防止除不尽）
    var yTotal = Math.floor(canvasWidth / girdSize);

    // 遍历绘制网格
    // 绘制横线
    for (let i = 0; i <= xTotal; i++) {
      // 开始新路径
      ctx.beginPath();
      ctx.moveTo(0, i * girdSize - 0.5);
      ctx.lineTo(canvasWidth, i * girdSize - 0.5);
      ctx.strokeStyle = "#ccc";
      ctx.stroke(); 
    }

    // 绘制竖线
    for (let i = 0; i <= yTotal; i++) {
      // 开始新路径
      ctx.beginPath();
      ctx.moveTo(i * girdSize - 0.5, 0);
      ctx.lineTo(i * girdSize - 0.5, canvasHeight);
      ctx.strokeStyle = "#ccc";
      ctx.stroke(); 
    }

    // 开始绘制坐标系
    // 间距
    var space = 10;

    // 箭头大小
    var arrowSize = 10;

    // 确定原点
    var x0 = space;
    var y0 = canvasHeight - space;

    // 绘制x轴
    ctx.beginPath();
    ctx.moveTo(x0, y0);
    ctx.lineTo(canvasWidth - space, y0);
    ctx.strokeStyle = "#000";
    ctx.stroke();

    // 绘制x轴的箭头
    ctx.lineTo(canvasWidth - space - arrowSize, y0 + arrowSize / 2);
    ctx.lineTo(canvasWidth - space - arrowSize, y0 - arrowSize / 2);
    // ctx.closePath(); 注意这里不能自动闭合，因为自动闭合是和起点进行闭合的。
    // 使用手动闭合
    ctx.lineTo(canvasWidth - space, y0);
    ctx.fill();

    // 绘制Y轴
    ctx.beginPath();
    ctx.moveTo(x0, y0);
    ctx.lineTo(x0, space);
    ctx.strokeStyle = "#000";
    ctx.stroke();

    // 绘制Y轴的箭头
    ctx.lineTo(x0 + arrowSize / 2, space + arrowSize);
    ctx.lineTo(x0 - arrowSize / 2, space + arrowSize);
    // ctx.closePath(); 注意这里不能自动闭合，因为自动闭合是和起点进行闭合的。
    // 使用手动闭合
    ctx.lineTo(x0, space);
    ctx.fill();
  </script>
</body>
</html>